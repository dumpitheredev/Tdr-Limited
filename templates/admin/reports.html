{% extends "base/layout.html" %}

{% block title %}Reports Dashboard{% endblock %}
{% block active_page %}reports{% endblock %}

{% block header %}
<h1 style="color: #191970;">Reports Dashboard</h1>
{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- Stats Cards Row -->
    <div class="row g-3 mb-4">
        <div class="col-12 col-sm-6 col-lg-3" id="totalStudentsCard"></div>
        <div class="col-12 col-sm-6 col-lg-3" id="activeClassesCard"></div>
        <div class="col-12 col-sm-6 col-lg-3" id="attendanceRateCard"></div>
        <div class="col-12 col-sm-6 col-lg-3" id="enrollmentsCard"></div>
    </div>

    <!-- Filter Panel -->
    <div class="card border-0 shadow-sm mb-4">
        <div class="card-header bg-white py-3">
            <h3 class="h5 mb-0" style="color: #191970;">
                <i class="bi bi-funnel-fill me-2"></i>Data Filters
            </h3>
        </div>
        <div class="card-body" id="filterPanelContainer">
            <!-- Filter panel will be inserted here via JavaScript -->
        </div>
    </div>

    <!-- Data Table -->
    <div class="card border-0 shadow-sm">
        <div class="card-header bg-white py-3 d-flex justify-content-between align-items-center">
            <h3 class="h5 mb-0" style="color: #191970;">
                <i class="bi bi-table me-2"></i>Report Data
            </h3>
            <div id="exportToolsContainer">
                <!-- Export buttons will be inserted here via JavaScript -->
            </div>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-hover align-middle" id="reportsTable">
                    <thead class="table-light">
                        <tr>
                            <th scope="col">Student ID</th>
                            <th scope="col">Student Name</th>
                            <th scope="col">Class</th>
                            <th scope="col">Date</th>
                            <th scope="col">Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Table data will be dynamically populated -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Toast Notifications -->
{% include 'components/toast_notification.html' %}

{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/utils/date-utils.js') }}"></script>
<script src="{{ url_for('static', filename='js/utils/url-utils.js') }}"></script>
<script src="{{ url_for('static', filename='js/notification.js') }}"></script>
<script src="{{ url_for('static', filename='js/components/FilterPanel.js') }}"></script>
<script src="{{ url_for('static', filename='js/components/StatsCard.js') }}"></script>
<script src="{{ url_for('static', filename='js/components/ExportTools.js') }}"></script>
<script src="{{ url_for('static', filename='js/pages/reports.js') }}"></script>
{% endblock %} 