<!-- Add Student Modal -->
<div class="modal fade" id="addStudentModal" tabindex="-1" aria-labelledby="addStudentModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content" style="border-radius: 12px;">
            <div class="modal-header border-bottom-0 px-4 pt-4 pb-0">
                <h5 class="modal-title fw-semibold" id="addStudentModalLabel" style="color: #191970;">Add New Student</h5>
                <button type="button" 
                        class="btn-close" 
                        data-bs-dismiss="modal" 
                        aria-label="Close">
                </button>
            </div>
            
            <div class="modal-body px-4 pt-3">
                <form id="addStudentForm">
                    <!-- First Name -->
                    <div class="mb-3">
                        <label for="firstName" class="form-label fw-medium">First Name</label>
                        <input type="text" 
                               class="form-control" 
                               id="firstName" 
                               name="firstName"
                               required
                               style="border-radius: 8px; border-color: #E5E7EB;">
                    </div>

                    <!-- Last Name -->
                    <div class="mb-3">
                        <label for="lastName" class="form-label fw-medium">Last Name</label>
                        <input type="text" 
                               class="form-control" 
                               id="lastName" 
                               name="lastName"
                               required
                               style="border-radius: 8px; border-color: #E5E7EB;">
                    </div>

                    <!-- Email Address -->
                    <div class="mb-3">
                        <label for="email" class="form-label fw-medium">Email Address</label>
                        <input type="email" 
                               class="form-control" 
                               id="email" 
                               name="email"
                               required
                               style="border-radius: 8px; border-color: #E5E7EB;">
                    </div>

                    <!-- Confirm Email Address -->
                    <div class="mb-3">
                        <label for="confirmEmail" class="form-label fw-medium">Confirm Email Address</label>
                        <input type="email" 
                               class="form-control" 
                               id="confirmEmail" 
                               name="confirmEmail"
                               required
                               style="border-radius: 8px; border-color: #E5E7EB;">
                    </div>

                    <!-- Hidden Role Field -->
                    <input type="hidden" id="userRole" name="userRole" value="st">

                    <!-- Student ID -->
                    <div class="mb-4">
                        <label for="studentId" class="form-label fw-medium">Student ID</label>
                        <input type="text" 
                               class="form-control bg-light" 
                               id="studentId" 
                               value="Auto-generated" 
                               disabled
                               style="border-radius: 8px; border-color: #E5E7EB;">
                    </div>

                    <!-- Action Buttons -->
                    <div class="d-flex justify-content-end gap-2 mt-4">
                        <button type="button" 
                                class="btn btn-secondary" 
                                data-bs-dismiss="modal"
                                style="border-radius: 8px; padding: 8px 16px;">
                            Cancel
                        </button>
                        <button type="submit" 
                                class="btn btn-primary" 
                                style="background-color: #191970; border-color: #191970; border-radius: 8px; padding: 8px 16px;">
                            Create Student
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const studentIdField = document.getElementById('studentId');
    const prefix = 'st'; // Fixed prefix for students

    // Function to generate random numbers (2 digits)
    function generateRandomNumbers() {
        return Math.floor(Math.random() * 90 + 10).toString(); // generates 10-99
    }

    // Function to generate random letters (2 letters)
    function generateRandomLetters() {
        const letters = 'abcdefghijklmnopqrstuvwxyz';
        return Array(2).fill(null)
            .map(() => letters.charAt(Math.floor(Math.random() * letters.length)))
            .join('');
    }

    // Function to generate student ID
    function generateStudentId() {
        const numbers = generateRandomNumbers(); // 2 numbers (10-99)
        const letters = generateRandomLetters(); // 2 random letters
        return `${prefix}${numbers}${letters}`; // e.g., st72zf
    }

    // Generate ID when modal opens
    studentIdField.value = generateStudentId();

    // Form submission handler
    const form = document.getElementById('addStudentForm');
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Email validation
        const email = document.getElementById('email').value;
        const confirmEmail = document.getElementById('confirmEmail').value;
        
        if (email !== confirmEmail) {
            alert('Email addresses do not match!');
            return;
        }

        // Here you would typically send the data to your backend
        console.log('Form submitted with ID:', studentIdField.value);
        // Add your API call here
    });
});
</script> 